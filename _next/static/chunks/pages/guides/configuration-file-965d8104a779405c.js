(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{279:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/configuration-file",function(){return n(8919)}])},8919:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c},meta:function(){return s}});n(7294);var o=n(3905),a=n(8470);function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s={id:"configuration-file",title:"Configuration File"},r={meta:s},l=function(e){var t=e.children,n=i(e,["children"]);return(0,o.kt)(a.C,Object.assign({meta:s},n),t)};function c(e){var t=e.components,n=i(e,["components"]);return(0,o.kt)(l,Object.assign({},r,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Monika uses a YAML file to define all the settings and configurations. You can find a sample configuration file in the repository called ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/hyperjumptech/monika/blob/main/monika.example.yml"}),"monika.example.yml"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Pro tips"),": If you use ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://code.visualstudio.com/"}),"Visual Studio Code (VSCode)")," on a regular basis, you can write the configuration file with the help of auto completion by installing the ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml"}),"YAML extension for VSCode"),". More information can be found in our ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://medium.com/hyperjump-tech/creating-monika-configuration-from-scratch-using-autocomplete-in-visual-studio-code-d7bc86c1d36a"}),"Creating Monika Configuration from Scratch using Autocomplete in Visual Studio Code")," blog post.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Another pro tips"),": If you'd rather use a GUI to create the configuration file, you can use the ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://monika-config.hyperjump.tech/"}),"Monika Config Generator web app"),".")),(0,o.kt)("p",null,"In general Monika and its configuration file, ",(0,o.kt)("inlineCode",{parentName:"p"},"monika.yml")," is divided into three sections. A probe, an alert and a notification section."),(0,o.kt)("h2",Object.assign({},{id:"probes"}),"Probes",(0,o.kt)("a",Object.assign({parentName:"h2"},{href:"#probes",title:"Direct link to heading",className:"anchor"}),(0,o.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,o.kt)("p",null,"Probes describe one or more requests to perform on your service to test. A probe will include the request, the URL to test, its method, timeout and any headers and body that you might wish to add."),(0,o.kt)("p",null,"Here is an example probe:"),(0,o.kt)("pre",null,(0,o.kt)("code",Object.assign({parentName:"pre"},{className:"language-yaml"}),"probes:\n  - id: 'submission_test'\n    name: HTML form submission\n    description: simulate html form submission\n    interval: 10 # in seconds\n    requests:\n      - url: https://httpbin.org/status/200\n        method: POST\n        timeout: 7000 # in milliseconds\n        headers:\n          Content-Type: application/x-www-form-urlencoded\n")),(0,o.kt)("p",null,"For further details on probes, check the ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"/guides/probes"}),"Probes guide"),"."),(0,o.kt)("h2",Object.assign({},{id:"alerts"}),"Alerts",(0,o.kt)("a",Object.assign({parentName:"h2"},{href:"#alerts",title:"Direct link to heading",className:"anchor"}),(0,o.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,o.kt)("p",null,"Alerts describe the conditions to trigger a notification. Alerts are basically test conditions for your service, such as http status, response time, or a particular response body."),(0,o.kt)("p",null,"The example below defines two alerts that will send notification if the HTTP response status is 500 or if the response time is greater than 150 ms."),(0,o.kt)("pre",null,(0,o.kt)("code",Object.assign({parentName:"pre"},{className:"language-yaml"}),"alerts:\n  - assertion: response.status == 500\n    message: response status is 500\n  - assertion: response.time > 150 # in milliseconds\n    message: response time is slow\n")),(0,o.kt)("p",null,"For details on alerts and how you can define different kind of queries, see the ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"/guides/alerts"}),"Alerts guide"),"."),(0,o.kt)("h2",Object.assign({},{id:"notifications"}),"Notifications",(0,o.kt)("a",Object.assign({parentName:"h2"},{href:"#notifications",title:"Direct link to heading",className:"anchor"}),(0,o.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,o.kt)("p",null,"Once an alert is triggered, Monika will send one or more notifications through any of the supported channels that you defined."),(0,o.kt)("p",null,"For instance, a simple desktop notification needs to be defined as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",Object.assign({parentName:"pre"},{className:"language-yaml"}),"notifications:\n  - id: my-desktop-notif\n    type: desktop\n")),(0,o.kt)("p",null,"Or an e-mail notification via your own SMTP server can be done by defining the following configuration:"),(0,o.kt)("pre",null,(0,o.kt)("code",Object.assign({parentName:"pre"},{className:"language-yaml"}),"notifications:\n  - id: random-string-smtp\n    type: smtp\n    data:\n      recipients: [RECIPIENT_EMAIL_ADDRESS]\n      hostname: SMTP_HOSTNAME\n      port: 587\n      username: SMTP_USERNAME\n      password: SMTP_PASSWORD\n")),(0,o.kt)("p",null,"Note that you can define more than one notification and Monika will notify you through them all when an alert is triggered."),(0,o.kt)("p",null,"Monika supports a wide variety of communication channels such as WhatsApp, Discord, Google Chat, and many more. For the complete list of the different notification channels that Monika supports, visit the ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"/guides/notifications"}),"Notifications")," page."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Pro tips"),": If the communication app you are using with your team is not supported by Monika, you can follow our guide to add it to Monika in ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://medium.com/hyperjump-tech/add-your-choice-of-notification-channels-to-monika-640f398aa265"}),"Add your choice of notification channels to Monika")," blog post. Some of the notification channels that Monika supports are thanks to fellow developers' open source contributions!")))}c.isMDXComponent=!0}},function(e){e.O(0,[547,778,470,774,888,179],(function(){return t=279,e(e.s=t);var t}));var t=e.O();_N_E=t}]);