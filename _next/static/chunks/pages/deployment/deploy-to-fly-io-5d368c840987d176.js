(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{6079:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deployment/deploy-to-fly-io",function(){return n(227)}])},227:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m},meta:function(){return l}});var a=n(9534),o=(n(7294),n(3905)),i=n(2290),l={id:"deploy-to-fly-io",title:"Deploy to Fly.io"},r={meta:l},p=function(e){var t=e.children,n=(0,a.Z)(e,["children"]);return(0,o.kt)(i.C,Object.assign({meta:l},n),t)};function m(e){var t=e.components,n=(0,a.Z)(e,["components"]);return(0,o.kt)(p,Object.assign({},r,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This article covers how to deploy a Monika instance to Fly.io."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to the ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/hyperjumptech/monika"}),"Monika Github repository")," and download two files: Dockerfile.flyio and fly.toml.example")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Rename the ",(0,o.kt)("inlineCode",{parentName:"p"},"fly.toml.example")," to fly.toml`.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Edit the contents of the fly.toml:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",Object.assign({parentName:"pre"},{className:"language-toml"}),'app = "monika" # Change the app name to the desired name\n\nkill_signal = "SIGINT"\nkill_timeout = 5\n\n[build]\ndockerfile = "Dockerfile.flyio"\n\n[build.args]\nPARAMS = "-v" # Change the parameters according to your needs\n\n[env]\nPARAMS = "-v" # Match the content of this PARAMS variable to the one in `build.args` block\n\n[experimental]\nauto_rollback = true\n')),(0,o.kt)("p",{parentName:"li"},"Refer to the ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://fly.io/docs/reference/configuration/"}),"Fly.io App Configuration Docs")," to customize the example TOML even further.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Install ",(0,o.kt)("a",Object.assign({parentName:"p"},{href:"https://fly.io/docs/flyctl/installing/"}),"Fly.io CLI tools")," (",(0,o.kt)("inlineCode",{parentName:"p"},"flyctl"),") in your computer")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"a. Proceed to authenticate to Fly.io by running ",(0,o.kt)("inlineCode",{parentName:"p"},"flyctl auth login")," in your terminal."),(0,o.kt)("p",{parentName:"li"},"b. If you haven't signed up to Fly.io yet, you can sign up by running ",(0,o.kt)("inlineCode",{parentName:"p"},"flyctl auth signup")," in your terminal.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Create a new Fly.io app by running ",(0,o.kt)("inlineCode",{parentName:"p"},"flyctl apps create")," and enter the app name according to your ",(0,o.kt)("inlineCode",{parentName:"p"},"fly.toml")," you have created before.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Deploy Monika to your Fly.io by running ",(0,o.kt)("inlineCode",{parentName:"p"},"flyctl deploy"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Wait until the deployment is finished, and check Monika logs from the Fly.io dashboard to confirm that your Monika instance is running."))))}m.isMDXComponent=!0}},function(e){e.O(0,[357,513,290,774,888,179],(function(){return t=6079,e(e.s=t);var t}));var t=e.O();_N_E=t}]);