(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{5090:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/run-in-docker",function(){return t(5432)}])},5432:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c},meta:function(){return r}});t(7294);var a=t(3905),i=t(8470);function o(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var r={id:"run-monika-in-docker",title:"Run Monika in Docker"},s={meta:r},u=function(e){var n=e.children,t=o(e,["children"]);return(0,a.kt)(i.C,Object.assign({meta:r},t),n)};function c(e){var n=e.components,t=o(e,["components"]);return(0,a.kt)(u,Object.assign({},s,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Monika is available as a docker image. You can find the image in the docker hub as ",(0,a.kt)("inlineCode",{parentName:"p"},"hyperjump/monika"),", or pull the image with the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"docker pull hyperjump/monika\n")),(0,a.kt)("p",null,"Once you've pulled the latest image, you can run it using:"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"# Run Monika in foreground\ndocker run --name monika --net=host -it hyperjump/monika:latest\n\n# Or, if you prefer to run Monika in the background\ndocker run --name monika --net=host --detach hyperjump/monika:latest\n")),(0,a.kt)("p",null,"In the example above, we create a container from the hyperjump/monika base image naming it with",(0,a.kt)("inlineCode",{parentName:"p"},"--name monika"),", indicate we'll use the host machine's network configuration with ",(0,a.kt)("inlineCode",{parentName:"p"},"--net=host")," and let it run in the backround using the ",(0,a.kt)("inlineCode",{parentName:"p"},"--detach")," switch (or interactively with ",(0,a.kt)("inlineCode",{parentName:"p"},"-it"),")."),(0,a.kt)("p",null,"Once monika is up and running, you can see its log using"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"docker logs monika\n")),(0,a.kt)("p",null,"Or you can stop the container with"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"docker stop monika\n")),(0,a.kt)("p",null,"For more complex probing, for example to use your existing customized configuration and have the prometheus plugin. First copy your personalized config to a directory, say /config. Then create your container with the directory mounted as a ",(0,a.kt)("inlineCode",{parentName:"p"},"--volume (-v)")," for the container to use, like so:"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"docker run --name monika_interactive \\\n    --net=host \\\n    -v ${PWD}/config:/config \\\n    -d hyperjump/monika:latest \\\n    monika -c /config/myConfig.yml --prometheus 3001\n\n")),(0,a.kt)("h2",Object.assign({},{id:"troubleshooting"}),"Troubleshooting",(0,a.kt)("a",Object.assign({parentName:"h2"},{href:"#troubleshooting",title:"Direct link to heading",className:"anchor"}),(0,a.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,a.kt)("p",null,"Genererally when facing issues with your container or configuration, try the same configuration YAML using regular monika. For instance:"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"monika -c myConfig.yml --prometheus 3001\n")),(0,a.kt)("p",null,"Ensure your container is up and running by issuing simple commands/parameters:"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"docker run --name monika_interactive \\\n    -it hyperjump/monika:latest monika --help\n")),(0,a.kt)("p",null,"For further docker commands and documentation, visit the official Docker ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://docs.docker.com/engine/reference/commandline/run/"}),"documentation here"),"."),(0,a.kt)("p",null,"If all else fails, hit us up at ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/hyperjumptech/monika/discussions"}),"monika discussions")," or ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/hyperjumptech/monika/issues"}),"file an issue"),"."))}c.isMDXComponent=!0}},function(e){e.O(0,[547,778,470,774,888,179],(function(){return n=5090,e(e.s=n);var n}));var n=e.O();_N_E=n}]);