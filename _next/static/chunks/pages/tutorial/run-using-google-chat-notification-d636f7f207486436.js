(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[159],{8524:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/run-using-google-chat-notification",function(){return n(3736)}])},3736:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c},meta:function(){return r}});n(7294);var a=n(3905),o=n(8470);function i(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var r={id:"run-using-google-chat-notification",title:"Run using Google Chat notification"},s={meta:r},l=function(t){var e=t.children,n=i(t,["children"]);return(0,a.kt)(o.C,Object.assign({meta:r},n),e)};function c(t){var e=t.components,n=i(t,["components"]);return(0,a.kt)(l,Object.assign({},s,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This tutorial will show you how to integrate Monika with Google Chat using Google Chat webhook so that you can get your Monika notifications through your Google Chat."),(0,a.kt)("h2",Object.assign({},{id:"getting-your-google-chat-webhook"}),"Getting your Google Chat webhook",(0,a.kt)("a",Object.assign({parentName:"h2"},{href:"#getting-your-google-chat-webhook",title:"Direct link to heading",className:"anchor"}),(0,a.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,a.kt)("p",null,"To create your Google Chat webhook, you need to create a space. Go to the ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://chat.google.com"}),"Google Chat")," page, and navigate to the bottom-left part of the page. In the \u201cSpaces\u201d section, click the plus icon and click ",(0,a.kt)("strong",{parentName:"p"},"Create Space"),". Fill out the space details and then click ",(0,a.kt)("strong",{parentName:"p"},"Create"),"."),(0,a.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1264/1*3Ctq84vJZbeKF3WTlZzgMQ.png",alt:null})),(0,a.kt)("p",null,"After you created a new space, click the menu icon on the top-right of the page to minimize the sidebar. Then, click your space\u2019s name and select the ",(0,a.kt)("strong",{parentName:"p"},"Manage Webhook")," menu."),(0,a.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1298/1*HnjVVFdY4z1g-OSxVEZywQ.png",alt:null})),(0,a.kt)("p",null,"It should display a new popup to create a new incoming webhook. Fill out the incoming webhooks name and avatar URL (which is optional), and then click ",(0,a.kt)("strong",{parentName:"p"},"Save"),". Copy the webhook URL into somewhere else, as we are going to use it later."),(0,a.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1400/1*INitisicIq5fDZN2Kk86PA.png",alt:null})),(0,a.kt)("h2",Object.assign({},{id:"integrating-monika-with-google-chat"}),"Integrating Monika with Google Chat",(0,a.kt)("a",Object.assign({parentName:"h2"},{href:"#integrating-monika-with-google-chat",title:"Direct link to heading",className:"anchor"}),(0,a.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,a.kt)("p",null,"Now that we have our Google Chat Webhook URL and installed Monika, it\u2019s time to create a configuration called ",(0,a.kt)("inlineCode",{parentName:"p"},"monika.yml"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{}),"notifications:\n  - id: unique-id-webhook\n    type: google-chat\n    data:\n      url: <YOUR_GOOGLE_CHAT_WEBHOOK_URL>\nprobes:\n  - id: google_chat_test\n    name: Google Chat Test\n    description: Google Chat Notification Channel Test\n    interval: 10\n    requests:\n      - method: GET\n        url: https://reqres.in/api/users\n    alerts:\n      - query: response.status != 200\n        message: Status code is not 200\n      - query: response.time > 500\n        message: Request took more than half a second\n")),(0,a.kt)("p",null,"Let me explain a little bit about this configuration:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"You need to set the notification channel in the ",(0,a.kt)("inlineCode",{parentName:"li"},"notifications")," object. There are 3 properties: ",(0,a.kt)("inlineCode",{parentName:"li"},"id"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"type"),", and ",(0,a.kt)("inlineCode",{parentName:"li"},"data"),". Set the ",(0,a.kt)("inlineCode",{parentName:"li"},"id")," to any string values, as it is just an identifier. Then, set the ",(0,a.kt)("inlineCode",{parentName:"li"},"type")," field to ",(0,a.kt)("inlineCode",{parentName:"li"},"google-chat")," to set the notification channel to Google Chat. After that, put your Google Chat Webhook URL into the ",(0,a.kt)("inlineCode",{parentName:"li"},"data.url")," field."),(0,a.kt)("li",{parentName:"ul"},"Monika will be probing ",(0,a.kt)("a",Object.assign({parentName:"li"},{href:"https://reqres.in/api/users"}),"https://reqres.in/api/users")," every ten seconds and will send you an alert if the response time is greater than half a second or the response status code is not 200.")),(0,a.kt)("p",null,"Now that we have our configuration ready, it\u2019s time to run it with Monika. Go to the directory where you saved the Monika configuration, and run Monika straight away using ",(0,a.kt)("inlineCode",{parentName:"p"},"monika -c monika.yml")),(0,a.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1400/1*s5bgaYarW1o9qNDOb5b4Lg.png",alt:null})),(0,a.kt)("p",null,"Congratulations! Now that you have successfully integrated Monika with Google Chat."))}c.isMDXComponent=!0}},function(t){t.O(0,[547,778,470,774,888,179],(function(){return e=8524,t(t.s=e);var e}));var e=t.O();_N_E=e}]);