(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{9912:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/run-using-microsoft-teams-notification",function(){return n(7879)}])},7879:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l},meta:function(){return s}});n(7294);var i=n(3905),o=n(8470);function a(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s={id:"run-using-microsoft-teams-notification",title:"Run using Microsoft Teams Notification"},r={meta:s},c=function(e){var t=e.children,n=a(e,["children"]);return(0,i.kt)(o.C,Object.assign({meta:s},n),t)};function l(e){var t=e.components,n=a(e,["components"]);return(0,i.kt)(c,Object.assign({},r,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This tutorial will show you how to integrate Monika with Microsoft Teams using Incoming Webhook so that when there is a Monika incidents or recoveries alert, your team will be notified via existing Microsoft Teams channels. So, without further ado:"),(0,i.kt)("h2",Object.assign({},{id:"setup-microsoft-teams-incoming-webhook"}),"Setup Microsoft Teams Incoming Webhook",(0,i.kt)("a",Object.assign({parentName:"h2"},{href:"#setup-microsoft-teams-incoming-webhook",title:"Direct link to heading",className:"anchor"}),(0,i.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,i.kt)("p",null,"First things first, you need to have a team in Microsoft Teams. Download the Microsoft Teams app and create your user account. Then, follow the steps to create a new team. Now that we have our team ready, click the three dots on any channel in your team, and click ",(0,i.kt)("strong",{parentName:"p"},"Connectors"),"."),(0,i.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1400/1*eQbgzza8XCUnhTEcSw4Esw.png",alt:null})),(0,i.kt)("p",null,"Inside the connectors dialog, find the ",(0,i.kt)("strong",{parentName:"p"},"Incoming Webhook")," connector, click Add, and click Add again. Then, open the Connectors menu again, and find the Incoming Webhook again. This time, click ",(0,i.kt)("strong",{parentName:"p"},"Configure"),". Fill out your Incoming Webhook name, change the logo, and click ",(0,i.kt)("strong",{parentName:"p"},"Create"),". You should see that there is a new webhook link available for you to use with Monika."),(0,i.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1400/1*TNNek9g7hYmjMzuG6Gw7EA.png",alt:null})),(0,i.kt)("h2",Object.assign({},{id:"running-monika-with-microsoft-teams-webhook"}),"Running Monika with Microsoft Teams Webhook",(0,i.kt)("a",Object.assign({parentName:"h2"},{href:"#running-monika-with-microsoft-teams-webhook",title:"Direct link to heading",className:"anchor"}),(0,i.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,i.kt)("p",null,"Now that we have our Webhook URL, it\u2019s time to create a configuration called ",(0,i.kt)("inlineCode",{parentName:"p"},"monika.yml"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",Object.assign({parentName:"pre"},{}),"notifications:\n  - id: microsoft-teams\n    type: teams\n    data:\n      url: <REPLACE_THIS_TO_YOUR_INCOMING_WEBHOOK_URL>\nprobes:\n  - id: sample_login\n    name: Sample Login\n    requests:\n      - method: GET\n        url: https://github.com\n        alerts:\n          - query: response.time > 800\n            message: Github response time is {{ response.time }} ms, expecting less than 800ms\n          - query: response.status != 200\n            message: Github status code is not 200. Please check the service status!\n    alerts:\n      - query: response.time > 10000\n        message: Please check your internet connection\n")),(0,i.kt)("p",null,"Let me explain a little bit about this configuration:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Monika is using the Microsoft Teams notification channel. You can change the notification channel by changing the ",(0,i.kt)("inlineCode",{parentName:"li"},"type")," key to another value such as ",(0,i.kt)("a",Object.assign({parentName:"li"},{href:"https://medium.com/hyperjump-tech/get-notified-by-e-mail-when-your-website-is-down-using-monika-a-guide-to-smtp-notification-channel-91dfcbed2bf8"}),"SMTP")," or ",(0,i.kt)("a",Object.assign({parentName:"li"},{href:"https://whatsapp.hyperjump.tech/"}),"WhatsApp"),". In the ",(0,i.kt)("inlineCode",{parentName:"li"},"data")," object, there is only one key called ",(0,i.kt)("inlineCode",{parentName:"li"},"url")," for your Webhook URL"),(0,i.kt)("li",{parentName:"ul"},"Monika will be probing ",(0,i.kt)("a",Object.assign({parentName:"li"},{href:"https://github.com/"}),"https://github.com")," and will send you an alert if the response time is greater than 500 milliseconds or the response status code is not 200, meaning the website is down"),(0,i.kt)("li",{parentName:"ul"},"If by chance when probing Github the response time is larger than 10000 milliseconds, you will receive an alert about your internet connection.")),(0,i.kt)("p",null,"Now that we have our configuration ready, it\u2019s time to run it with Monika. Go to the directory where you saved the Monika configuration, and run Monika straight away using ",(0,i.kt)("inlineCode",{parentName:"p"},"monika -c monika.yml")),(0,i.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1400/1*vq82aFFN-jnGemubD-gLdA.png",alt:null})),(0,i.kt)("p",null,"Congratulations! Now that you have successfully integrated Monika with Microsoft Teams, you will be notified immediately through Microsoft Teams if your website is slow or down!"))}l.isMDXComponent=!0}},function(e){e.O(0,[547,778,470,774,888,179],(function(){return t=9912,e(e.s=t);var t}));var t=e.O();_N_E=t}]);