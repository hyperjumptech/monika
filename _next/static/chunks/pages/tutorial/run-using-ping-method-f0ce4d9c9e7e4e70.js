(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{6719:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/run-using-ping-method",function(){return n(9734)}])},9734:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u},meta:function(){return r}});n(7294);var i=n(3905),a=n(8470);function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var r={id:"run-using-ping-method",title:"Run using Ping Method"},s={meta:r},l=function(e){var t=e.children,n=o(e,["children"]);return(0,i.kt)(a.C,Object.assign({meta:r},n),t)};function u(e){var t=e.components,n=o(e,["components"]);return(0,i.kt)(l,Object.assign({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This tutorial will show you how to integrate Monika with Ping Method to get your Monika notifications."),(0,i.kt)("h2",Object.assign({},{id:"installing-monika"}),"Installing Monika",(0,i.kt)("a",Object.assign({parentName:"h2"},{href:"#installing-monika",title:"Direct link to heading",className:"anchor"}),(0,i.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,i.kt)("p",null,"Install Monika via ",(0,i.kt)("inlineCode",{parentName:"p"},"npm install -g @hyperjumptech/monika")," or if you don\u2019t have NPM in your system, you can ",(0,i.kt)("a",Object.assign({parentName:"p"},{href:"https://github.com/hyperjumptech/monika/releases"}),"download the prebuilt binary from our release page"),". After installing Monika, run ",(0,i.kt)("inlineCode",{parentName:"p"},"monika -v")," to verify your Monika installation."),(0,i.kt)("img",Object.assign({},{src:"https://miro.medium.com/proxy/1*NCa_JT4SdiaDPPdHgIzq2Q.png",alt:null})),(0,i.kt)("h2",Object.assign({},{id:"preparing-a-configuration"}),"Preparing a configuration",(0,i.kt)("a",Object.assign({parentName:"h2"},{href:"#preparing-a-configuration",title:"Direct link to heading",className:"anchor"}),(0,i.kt)("span",Object.assign({parentName:"a"},{className:"icon icon-link"})))),(0,i.kt)("p",null,"Now that we have installed Monika, let\u2019s prepare a configuration:"),(0,i.kt)("pre",null,(0,i.kt)("code",Object.assign({parentName:"pre"},{}),"notifications:\n  - id: desktop\n    type: desktop\nprobes:\n  - id: ping_test\n    name: ping_test\n    description: requesting icmp ping\n    interval: 10\n    requests:\n      - url: https://google.com\n        ping: true\n      - method: GET\n        url: https://reqres.in/api/users\n    alerts:\n      - query: response.status != 200\n        message: Status code is not 200\n      - query: response.time > 2000\n        message: Request took more than 2 seconds\n")),(0,i.kt)("p",null,"Let me explain this configuration a little bit:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"This configuration uses Desktop notifications"),(0,i.kt)("li",{parentName:"ul"},"This probe configuration will do two requests: ",(0,i.kt)("strong",{parentName:"li"},"Hit google.com using PING"),". After PING success, it will ",(0,i.kt)("strong",{parentName:"li"},"hit")," ",(0,i.kt)("a",Object.assign({parentName:"li"},{href:"https://reqres.in/api/users"}),(0,i.kt)("strong",{parentName:"a"},"https://reqres.in/api/users"))," ",(0,i.kt)("strong",{parentName:"li"},"using the GET method"),". If by chance the first request fails, it will not proceed to the next request."),(0,i.kt)("li",{parentName:"ul"},"This probe configuration will alert you if the status code is not 200, or the request took longer than two seconds")),(0,i.kt)("p",null,"Save the configuration above as ",(0,i.kt)("inlineCode",{parentName:"p"},"monika.yaml")," in your local machine and run ",(0,i.kt)("inlineCode",{parentName:"p"},"monika -c monika.yaml")," command in your terminal inside the directory where you saved the configuration file."),(0,i.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1400/1*96YDF6fKh9uc1ABw5Z_6Cw.png",alt:null})),(0,i.kt)("p",null,"We\u2019re not finished yet. We want to know what will happen if we failed to PING Google. Let Monika run in the background, and try to disconnect yourself from the internet. You will get a notification:"),(0,i.kt)("img",Object.assign({},{src:"https://miro.medium.com/max/1400/1*9-EXof54-ekJfzorw269ew.png",alt:null})),(0,i.kt)("p",null,"There is some explanation for the error message:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"0: \u2018URI not found\u2019"),(0,i.kt)("li",{parentName:"ul"},"1: \u2018Connection reset\u2019"),(0,i.kt)("li",{parentName:"ul"},"2: \u2018Connection refused\u2019"),(0,i.kt)("li",{parentName:"ul"},"3: \u2018Unknown error\u2019"),(0,i.kt)("li",{parentName:"ul"},"4: \u2018Ping timed out\u2019"),(0,i.kt)("li",{parentName:"ul"},"599: \u2018Request Timed out\u2019")),(0,i.kt)("p",null,"It shows PING timed out because your internet is disconnected. So, we could distinguish which alerts come from the API itself, and which alerts come from your internet problem."))}u.isMDXComponent=!0}},function(e){e.O(0,[547,778,470,774,888,179],(function(){return t=6719,e(e.s=t);var t}));var t=e.O();_N_E=t}]);